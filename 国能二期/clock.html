<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ ‡å‡†åŒ—äº¬æ—¶é—´ - è‡ªå®šä¹‰ç‰ˆ</title>
    <style>
        body {
            font-family: "Microsoft YaHei", "Heiti SC", sans-serif;
            text-align: center;
            background-color: #fff;
            margin: 0;
            padding-top: 50px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* æ ‡é¢˜æ ·å¼ */
        .title {
            color: #4cae4c; /* æ¥è¿‘å›¾ä¸­çš„ç»¿è‰² */
            font-size: 38px;
            font-weight: bold;
            margin-bottom: 30px;
            letter-spacing: 1px;
        }

        /* æ—¥æœŸè¡Œæ ·å¼ */
        .date-line {
            font-size: 18px;
            color: #333;
            margin-bottom: 15px;
        }

        .week-highlight {
            color: #0000ff; /* é“¾æ¥è“ */
            text-decoration: underline;
            cursor: pointer;
        }

        /* åº•éƒ¨è¯´æ˜æ–‡å­—æ ·å¼ */
        .sync-info {
            font-size: 14px;
            color: #000099; /* æ·±è“è‰² */
            margin-bottom: 30px;
        }

        /* å·¨å¤§æ—¶é—´æ ·å¼ */
        .big-time {
            font-family: Arial, sans-serif; /* ä½¿ç”¨æ— è¡¬çº¿å­—ä½“ */
            font-size: 160px; /* è¶…å¤§å­—ä½“ */
            font-weight: bold;
            color: #3b88ff; /* äº®è“è‰² */
            line-height: 1;
            letter-spacing: -2px;
        }

        /* ---------- æ§åˆ¶é¢æ¿æ ·å¼ (ä¸åŒ…å«åœ¨æˆªå›¾ä¸­) ---------- */
        .controls {
            margin-top: 80px;
            padding: 20px;
            border-top: 1px dashed #ccc;
            background-color: #f9f9f9;
            width: 80%;
            border-radius: 8px;
        }
        
        .controls h3 {
            font-size: 16px;
            color: #666;
            margin-top: 0;
        }

        .input-group {
            margin: 10px 0;
        }

        input {
            padding: 8px;
            font-size: 16px;
            margin-right: 10px;
        }

        button {
            padding: 8px 15px;
            font-size: 16px;
            cursor: pointer;
            background-color: #3b88ff;
            color: white;
            border: none;
            border-radius: 4px;
        }

        button.reset {
            background-color: #666;
        }
    </style>
</head>
<body>

    <div class="title">æ ‡å‡†åŒ—äº¬æ—¶é—´</div>

    <div class="date-line">
        ä»Šå¤©æ˜¯<span id="dateText">2026å¹´1æœˆ6æ—¥æ˜ŸæœŸäºŒ</span>ï¼Œ<span class="week-highlight" id="weekText">ç¬¬02å‘¨</span>
    </div>

    <div class="sync-info">
        æœ¬æ—¶é—´åŒæ­¥å›½å®¶æˆæ—¶ä¸­å¿ƒç²¾ç¡®åˆ°æ¯«ç§’
    </div>

    <div class="big-time" id="timeDisplay">
        10:00:23
    </div>

    <div class="controls">
        <h3>ğŸ› ï¸ è®¾ç½®é¢æ¿ (æˆªå›¾æ—¶è¯·åªæˆªå–ä¸Šæ–¹åŒºåŸŸ)</h3>
        <div class="input-group">
            <label>è‡ªå®šä¹‰æ—¥æœŸæ—¶é—´: </label>
            <input type="datetime-local" id="customInput" step="1">
            <button onclick="setFixedTime()">åº”ç”¨è®¾å®šå¹¶å›ºå®š</button>
            <button class="reset" onclick="startRealTime()">æ¢å¤å®æ—¶èµ°åŠ¨</button>
        </div>
        <p style="font-size: 12px; color: #888;">è¯´æ˜ï¼šé€‰æ‹©æ—¶é—´åç‚¹å‡»â€œåº”ç”¨â€ï¼Œæ—¶é’Ÿå°†åœæ­¢èµ°åŠ¨å¹¶å›ºå®šæ˜¾ç¤ºæ‚¨è®¾ç½®çš„æ—¶é—´ã€‚</p>
    </div>

    <script>
        let intervalId = null;
        const timeDisplay = document.getElementById('timeDisplay');
        const dateText = document.getElementById('dateText');
        const weekText = document.getElementById('weekText');
        const customInput = document.getElementById('customInput');

        // è®¡ç®—ä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨
        function getWeekNumber(d) {
            d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
            d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));
            var yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
            var weekNo = Math.ceil((((d - yearStart) / 86400000) + 1) / 7);
            return weekNo;
        }

        // æ ¼å¼åŒ–æ•°å­—ï¼Œè¡¥0
        function pad(num) {
            return num.toString().padStart(2, '0');
        }

        // è·å–ä¸­æ–‡æ˜ŸæœŸ
        function getWeekDayCN(date) {
            const days = ['æ˜ŸæœŸæ—¥', 'æ˜ŸæœŸä¸€', 'æ˜ŸæœŸäºŒ', 'æ˜ŸæœŸä¸‰', 'æ˜ŸæœŸå››', 'æ˜ŸæœŸäº”', 'æ˜ŸæœŸå…­'];
            return days[date.getDay()];
        }

        // æ›´æ–°é¡µé¢æ˜¾ç¤ºçš„æ ¸å¿ƒå‡½æ•°
        function renderPage(dateObj) {
            const year = dateObj.getFullYear();
            const month = dateObj.getMonth() + 1;
            const day = dateObj.getDate();
            const weekDay = getWeekDayCN(dateObj);
            const weekNum = getWeekNumber(dateObj);

            const hours = pad(dateObj.getHours());
            const minutes = pad(dateObj.getMinutes());
            const seconds = pad(dateObj.getSeconds());

            // æ›´æ–°æ—¥æœŸè¡Œ
            dateText.innerText = `${year}å¹´${month}æœˆ${day}æ—¥${weekDay}`;
            weekText.innerText = `ç¬¬${pad(weekNum)}å‘¨`;

            // æ›´æ–°å¤§æ—¶é—´
            timeDisplay.innerText = `${hours}:${minutes}:${seconds}`;
        }

        // æ¨¡å¼1ï¼šå®æ—¶èµ°åŠ¨
        function startRealTime() {
            if (intervalId) clearInterval(intervalId);
            
            // ç«‹å³æ‰§è¡Œä¸€æ¬¡
            renderPage(new Date());
            
            // æ¯ç§’æ›´æ–°
            intervalId = setInterval(() => {
                renderPage(new Date());
            }, 1000);
        }

        // æ¨¡å¼2ï¼šå›ºå®šæ—¶é—´
        function setFixedTime() {
            const inputVal = customInput.value;
            if (!inputVal) {
                alert("è¯·å…ˆé€‰æ‹©æ—¥æœŸå’Œæ—¶é—´ï¼");
                return;
            }

            // æ¸…é™¤å®šæ—¶å™¨ï¼Œåœæ­¢èµ°åŠ¨
            if (intervalId) clearInterval(intervalId);

            const fixedDate = new Date(inputVal);
            renderPage(fixedDate);
        }

        // åˆå§‹åŒ–ï¼šé»˜è®¤æŒ‰ç…§å›¾ç‰‡ä¸­çš„æ—¶é—´è®¾ç½®å¥½è¾“å…¥æ¡†ï¼Œå¹¶æ˜¾ç¤ºè¯¥é™æ€æ—¶é—´
        // ä¸ºäº†æ–¹ä¾¿ä½ ç›´æ¥çœ‹åˆ°æ•ˆæœï¼Œæˆ‘é»˜è®¤åˆå§‹åŒ–ä¸ºå›¾ä¸­çš„æ—¶é—´å¹¶æš‚åœ
        window.onload = function() {
            // è®¾ç½®é»˜è®¤å€¼ä¸ºå›¾ä¸­çš„ 2026-01-06 10:00:23
            const defaultStr = "2026-01-06T10:00:23";
            customInput.value = defaultStr;
            
            // æ¸²æŸ“ä¸€æ¬¡é™æ€æ—¶é—´
            setFixedTime(); 
        };

    </script>
</body>
</html>